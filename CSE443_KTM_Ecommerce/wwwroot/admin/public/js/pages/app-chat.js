class Chat{initStatus(){new Swiper(".mySwiper",{loop:!0,pagination:".swiper-pagination",paginationClickable:!0,slidesPerView:"auto",spaceBetween:8,autoHeight:!0})}initChats(){let s=this;this.chatContainer=document.querySelector(".chat-conversation-list"),this.simplebar=new SimpleBar(this.chatContainer),this.scrollPosition=0,this.scrollToBottom(!1);var e=document.querySelector("form#chat-form");let t=e.querySelector("input");e.addEventListener("submit",function(e){e.preventDefault();e=t.value;0<e.trim().length&&(t.value="",s.sendMessage(e))}),this.simplebar.getScrollElement()&&(this.simplebar.getScrollElement().onscroll=function(e){s.scrollPosition=e.target.scrollTop})}sendMessage(e){let s=this;e=this.toNodes(this.createHTMLMessageFromMe(e));this.simplebar.getContentElement()&&(this.simplebar.getContentElement().appendChild(e),this.simplebar.recalculate(),this.scrollToBottom(),setTimeout(function(){s.receiveMessage("Server is not connected ðŸ˜”")},1e3))}receiveMessage(e){e=this.toNodes(this.createHTMLMessageFromOther(e));this.simplebar.getContentElement().appendChild(e),this.simplebar.recalculate(),this.scrollToBottom()}createHTMLMessageFromMe(e){var s=new Date;return'<li class="clearfix odd">\n    <div class="chat-conversation-text ms-0">\n        <div class="d-flex justify-content-end">\n            <div class="chat-conversation-actions dropdown dropstart">\n                <a href="javascript: void(0);" class="pe-1" data-bs-toggle="dropdown" aria-expanded="false"><i class=\'bx bx-dots-vertical-rounded fs-18\'></i></a>\n                <div class="dropdown-menu">\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-share fs-18 me-2"></i>Reply\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-share-alt fs-18 me-2"></i>Forward\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-copy fs-18 me-2"></i>Copy\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-bookmark fs-18 me-2"></i>Bookmark\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-star fs-18 me-2"></i>Starred\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-info-square fs-18 me-2"></i>Mark as Unread\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-trash fs-18 me-2"></i>Delete\n                    </a>\n                </div>\n            </div>\n            <div class="chat-ctext-wrap">\n                <p>'+e+'</p>\n            </div>\n        </div>\n        <p class="text-muted fs-12 mb-0 mt-1">'+(s.getHours()+":"+s.getMinutes()+" "+(11<s.getHours()?"pm":"am"))+'<i class="bx bx-check-double ms-1 text-primary"></i></p>\n    </div>\n</li>\n'}createHTMLMessageFromOther(e){var s=new Date;return'<li class="clearfix">\n    <div class="chat-conversation-text">\n        <div class="d-flex">\n            <div class="chat-ctext-wrap">\n                <p>'+e+'</p>\n            </div>\n            <div class="chat-conversation-actions dropdown dropend">\n                <a href="javascript: void(0);" class="ps-1" data-bs-toggle="dropdown" aria-expanded="false"><i class=\'bx bx-dots-vertical-rounded fs-18\'></i></a>\n                <div class="dropdown-menu">\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-share fs-18 me-2"></i>Reply\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-share-alt fs-18 me-2"></i>Forward\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-copy fs-18 me-2"></i>Copy\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-bookmark fs-18 me-2"></i>Bookmark\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-star fs-18 me-2"></i>Starred\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-info-square fs-18 me-2"></i>Mark as Unread\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-trash fs-18 me-2"></i>Delete\n                    </a>\n                </div>\n            </div>\n        </div>\n        <p class="text-muted fs-12 mb-0 mt-1 ms-2">'+(s.getHours()+":"+s.getMinutes()+" "+(11<s.getHours()?"pm":"am"))+"</p>\n    </div>\n</li>"}toNodes(e){return(new DOMParser).parseFromString(e,"text/html").body.childNodes[0]}scrollToBottom(t=!0){let a=this;if(this.simplebar.getContentElement()){let e=this.simplebar.getContentElement().scrollHeight-570;let s=setInterval(function(){a.scrollPosition+=2,a.simplebar.getScrollElement().scrollTop=a.scrollPosition,a.scrollPosition>e&&clearInterval(s)},t?10:1)}}init(){this.initStatus(),this.initChats()}}document.addEventListener("DOMContentLoaded",function(e){(new Chat).init()});